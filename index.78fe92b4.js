const e=document.querySelector(".card-set");(new class{constructor(){this.searchQuery="",this.page=1}async fetchMovies(){const e=`https://api.themoviedb.org/3/trending/movie/week?api_key=4c6e55add2f00844e9f979bd7b0fac7c&${new URLSearchParams({page:this.page})}`;try{const t=await fetch(e),a=await t.json();return this.incrementPage(),a}catch(e){console.error(e)}}async searchMovies(){const e=` https://api.themoviedb.org/3/search/movie?api_key=4c6e55add2f00844e9f979bd7b0fac7c&${new URLSearchParams({page:this.page,query:this.searchQuery})}`;try{const t=await fetch(e),a=await t.json();return console.log(a),a}catch(e){console.error(e)}}async getGenres(){try{const e=await fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=4c6e55add2f00844e9f979bd7b0fac7c"),t=await e.json();return console.log(t),t}catch(e){console.error(e)}}incrementPage(){return this.page+=1}resetPage(){return this.page=1}get query(){return this.searchQuery}set query(e){this.searchQuery=e}}).fetchMovies().then((function(t){const a=t.results.map((e=>{const{poster_path:t,title:a,genre_ids:r,release_date:s}=e;return`<li class="card-set__item movie-card"><a href="#!" class="movie-card__link"><div class="movie-card__holder"><img src=${"https://image.tmdb.org/t/p/w400"+t} alt="${a} poster" class="movie-card__img" width="100%"></div><p class="movie-card__title">${a}            \n            </p><p class="movie-card__genre">${r.length<3?r:r.slice(0,2)+", Other"} | \n                <span class="movie-card__date">${s.slice(0,4)}</span>\n            </p></a></li>`})).join("");e.insertAdjacentHTML("beforeend",a)})).catch((e=>console.log("Error: ",e)));
//# sourceMappingURL=index.78fe92b4.js.map
