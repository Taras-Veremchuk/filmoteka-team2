function e(e,r,t,n){Object.defineProperty(e,r,{get:t,set:n,enumerable:!0,configurable:!0})}function r(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},o={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in o){var r=o[e];delete o[e];var t={id:e,exports:{}};return n[e]=t,r.call(t.exports,t,t.exports),t.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,r){o[e]=r},t.parcelRequired7c6=a),a.register("kyEFX",(function(r,t){var n,o;e(r.exports,"register",(function(){return n}),(function(e){return n=e})),e(r.exports,"resolve",(function(){return o}),(function(e){return o=e}));var a={};n=function(e){for(var r=Object.keys(e),t=0;t<r.length;t++)a[r[t]]=e[r[t]]},o=function(e){var r=a[e];if(null==r)throw new Error("Could not resolve bundle with id "+e);return r}})),a("kyEFX").register(JSON.parse('{"1zJhX":"library.c7c8a503.js","1aYh8":"default-poster.5762cb38.jpg","5UbS1":"index.8c1bb753.css"}'));var s;s=new URL(a("kyEFX").resolve("1aYh8"),import.meta.url).toString();const c=document.querySelector(".card-set");function i(e){e.preventDefault(),console.log(e)}(new class{constructor(){this.searchQuery="",this.page=1}async fetchMovies(){const e=`https://api.themoviedb.org/3/trending/movie/week?api_key=4c6e55add2f00844e9f979bd7b0fac7c&${new URLSearchParams({page:this.page})}`;localStorage.getItem("MOVIE_GENRES")||this.getGenres();try{const r=await fetch(e),t=await r.json();return this.incrementPage(),console.log(t),t}catch(e){console.error(e)}}async searchMovies(){const e=` https://api.themoviedb.org/3/search/movie?api_key=4c6e55add2f00844e9f979bd7b0fac7c&${new URLSearchParams({page:this.page,query:this.searchQuery})}`;localStorage.getItem("MOVIE_GENRES")||this.getGenres();try{const r=await fetch(e),t=await r.json();return console.log(t),t}catch(e){console.error(e)}}async getGenres(){try{const e=await fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=4c6e55add2f00844e9f979bd7b0fac7c"),r=await e.json(),t={};return r.genres.forEach((({id:e,name:r})=>t[e]=r)),localStorage.setItem("MOVIE_GENRES",JSON.stringify(t)),console.log(r),r}catch(e){console.error(e)}}incrementPage(){return this.page+=1}resetPage(){return this.page=1}get query(){return this.searchQuery}set query(e){this.searchQuery=e}}).fetchMovies().then((function(e){const t=JSON.parse(localStorage.getItem("MOVIE_GENRES")),n=e.results.map((e=>{const{poster_path:n,title:o,genre_ids:a,release_date:c}=e,i=a.map((e=>t[e]));return`<li class="card-set__item movie-card"><a href="" class="movie-card__link"><div class="movie-card__holder"><img src=${n?"https://image.tmdb.org/t/p/w400"+n:r(s)} alt="${o} poster" class="movie-card__img" width="100%"></div><p class="movie-card__title">${o}\n            </p><p class="movie-card__genre">${i.length<3?i.join(", "):i.slice(0,2).join(", ")+", Other"} |\n                <span class="movie-card__date">${c.slice(0,4)}</span>\n            </p></a></li>`})).join("");c.innerHTML=n,c.querySelectorAll(".movie-card__link").forEach((e=>e.addEventListener("click",i)))})).catch((e=>console.log("Error: ",e)));
//# sourceMappingURL=library.c7c8a503.js.map
